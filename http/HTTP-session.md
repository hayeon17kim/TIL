

HTTP와 같은 클라이언트-서버 프로토콜에서, 세션은 다음의 세 가지 과정으로 이루어진다.

1. 클라이언트가 TCP 연결을 수립한다. 
2. 클라이언트는 요청을 전송한 뒤 응답을 기다린다.
3. 서버는 요청에 대해 처리하고 그에 대한 응답을 상태 코드와 요청에 부합하는 데이터와 함께 클라이언트에게 응답한다.

HTTP/1.1부터는 세 번째 과정 이후 클라이언트가 해당 시점에 또 다른 요청을 보낼 수 이또록 연결을 닫지 않는다. 그러므로 두 번째, 세 번째 과정이 몇 번에 걸쳐 일어날 수 잇따.



## 연결 수립

- 클라이언트-서버 프로토콜에서 클라이언트는 연결을 수립한다.
- 보통 HTTP에서 연결을 여는 것은 보통 TCP인 기본적인 전송 계층 내에서 연결을 수립하는 것을 뜻한다.
- TCP를 이용할 경우 컴퓨터 상의 HTTP 서버를 위한 기본 포트는 80이고, 이 경우 URL에서 생략 가능하다. 그러나 8000, 8080처럼 다른 포트들도 많이 사용되곤 한다.

- 클라이언트-서버 모델은 서버로 하여금 명시적인 요청 없이 클라이언트로 데이터를 전송하는 것을 허용하지 않는다. 
  - `XMLHTTPRequest`, `Fetch API`를 통해 주기적으로 서버에 핑하기, HTML 웹소켓 API 혹은 그와 유사한 프로토콜을 사용하는 등 이에 몇가지 해결 방법이 있다.



## 클라이언트 요청 전송

클라이언트 요청은 세 가지 블록으로 나누어진다.

1. 파라미터가 따르는 요청 메서드를 포함한다. 

   문서의 경로, 사용중인 HTTP 프로토콜 버전

2. 각각 특정 헤더를 나타낸다.

   데이터 종류가 적합한지, 서버 동작을 수정하는 몇 가지 데이터 등에 관한 정보를 서버에게 제공한다.

3. 부가적인 데이터 블록 

   주로 POST 메서드에 의해 사용된다.



## 서버 응답의 구조

서버 응답도 세 개의 다른 블록으로 나누어진다.

1. 상태 줄인 첫 번째 줄은 상태 요청이 따르도록 사용된 HTTP 버전의 acknowledgement 로 구성된다.
2. 클라이언트의 요청에 대한 HTTP 헤더 블록과 유사하게, 이 HTTP 헤더들은 빈 줄로 끝나는 블록을 형성한다.
3. 마지막 블록은 데이터 블록으로 데이터를 포함한다.